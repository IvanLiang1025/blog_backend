2022-01-22 00:45:52:872 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h18m2s550ms).
2022-01-22 03:00:36:019 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h14m43s147ms).
2022-01-22 04:33:16:137 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h32m40s118ms).
2022-01-22 07:16:12:798 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h42m56s661ms).
2022-01-22 08:42:07:252 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h25m54s454ms).
2022-01-22 09:16:05:056 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m57s804ms).
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: POST
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/login
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.AccountController.login
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: LoginVo{username='test', password='123456'}
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=LoginResultVo{accessToken='eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2NDI4NzU3MTMsInVzZXJJZCI6MTAwMDAzLCJpYXQiOjE2NDI4NjEzMTN9.Ag7voJbi7Y-NDggqL_acD7dne04YsJmc-Das6pObRA8', role=0}, total=null}
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 7ms
2022-01-22 09:21:53:263 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleList
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=null}
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 5ms
2022-01-22 09:21:53:312 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:34:06:377 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m1s293ms).
2022-01-22 09:34:16:641 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:34:16:645 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:34:16:652 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:34:16:652 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:34:16:653 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article/10005
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleDetail
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: 10005
2022-01-22 09:34:16:653 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 3ms
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='| Head | Head | Head | Head |
| --- | --- | --- | --- |
| Data | Data | Data | Data |
| Data | Data | Data | Data |

## æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªmarkdownç¼–è¾‘å™¨

> ç¬”è€…åœ¨18å¹´å¹´æœ«çš„æ—¶å€™æŽ¥åˆ°ä¸€ä¸ªå¼€å‘ä»»åŠ¡â€”â€”æ­å»ºä¸€ä¸ªAIé¡¹ç›®çš„å¼€æ”¾å¹³å°ï¼Œå…¶ä¸­çš„äº§å“æ–‡æ¡£ä¸ºè½¬åŒ–ä¸ºHTMLæ ¼å¼çš„markdownæ–‡æ¡£ã€‚è€ƒè™‘åˆ°æ–‡æ¡£çš„å³æ—¶æ›´æ–°ï¼Œå°†æ–‡æ¡£ä¿¡æ¯åšæˆäº†AjaxæŽ¥å£çš„å½¢å¼ã€‚å› æ­¤ç®¡ç†åŽå°åªéœ€å°†textareaè¡¨å•çš„å†…å®¹é€šè¿‡markdownè§£æžå™¨è¿›è¡ŒHTMLæ ¼å¼è½¬åŒ–ï¼Œç„¶åŽå°†markdownå†…å®¹å’Œç»è½¬åŒ–çš„HTMLæ–‡æ¡£éƒ½ä¿å­˜åˆ°æ•°æ®åº“å³å¯ã€‚
> åŸºæœ¬éœ€æ±‚å®ŒæˆåŽï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè€ƒè™‘å°†å¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½æ·»åŠ è¿›æ¥ã€‚æ”¹è¿›ç‰ˆä¸ä»…æ”¯æŒäº†å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜å®žçŽ°çš„UIç•Œé¢çš„é…ç½®åŒ–ï¼Œè‡ªå®šä¹‰è¯­æ³•è§£æžå™¨ã€‚æœ¬ç€é€ ç¦ä¼¸æ‰‹å…šçš„ç›®çš„ï¼Œä»¥åŠç§¯ç´¯äº›å¼€æºç»éªŒï¼Œç¬”è€…å°†è¯¥react ç»„ä»¶ [react-markdown-editor-lite](https://github.com/HarryChen0506/react-markdown-editor-lite) è¿›è¡Œäº†å°è£…æ”¹é€ ï¼Œå¹¶ä¸”å‘å¸ƒåˆ°äº†å¼€æºç¤¾åŒºã€‚

### é¢„è§ˆ
åœ¨çº¿ä½“éªŒ [https://harrychen0506.github.io/react-markdown-editor-lite/](https://harrychen0506.github.io/react-markdown-editor-lite/)

![image](https://github.com//HarryChen0506/react-markdown-editor-lite/blob/master/image/react-markdown-editor-lite-v1.0.0.PNG?raw=true)

### ç‰¹ç‚¹
* è½»é‡ã€åŸºäºŽReact
* UIå¯é…ç½®, å¦‚åªæ˜¾ç¤ºç¼–è¾‘åŒºæˆ–é¢„è§ˆåŒº
* æ”¯æŒè‡ªå®šä¹‰markdownè¯­æ³•è§£æžå™¨,è¯­æ³•é«˜äº®ç­‰
* æ”¯æŒå¸¸ç”¨çš„markdownç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰ç­‰...
* æ”¯æŒåŠŸèƒ½æŒ‰é’®æ’æ‹”åŒ–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‰©å±•ç»„ä»¶
* æ”¯æŒç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåŒæ­¥æ»šåŠ¨

### å¼€å‘å¿ƒå¾—

- æ–‡æœ¬ç¼–è¾‘

  å¤§å¤šæ•°å¸¸è§çš„ç¼–è¾‘å™¨ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ©ç”¨äº†æŸäº›å…ƒç´ å¦‚divçš„contenteditableå±žæ€§ï¼Œé…åˆselectionã€rangeã€execCommandç­‰APIï¼Œå®žçŽ°äº†å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œé¢çš„å®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†"[ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘ï¼Ÿ](https://www.zhihu.com/question/38699645)"è¿™ä¸ªè¯´æ³•ã€‚

  è€Œmarkdownç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒçš„å¤„ç†å†…å®¹ä¸ºç®€å•è¯­æ³•çš„çº¯æ–‡æœ¬ï¼Œå¤æ‚åº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä½Žï¼Œå¹¶ä¸”inputæ ‡ç­¾è‡ªå¸¦onSelectäº‹ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èŽ·å–é€‰æ‹©ä¿¡æ¯ï¼ˆé€‰æ‹©èµ·å§‹ä½ç½®å’Œé€‰æ‹©æ–‡æœ¬å€¼ï¼‰ï¼Œå› æ­¤è¦æƒ³å®žçŽ°ç¼–è¾‘åŠŸèƒ½ï¼Œåªéœ€å°†è¦æ”¹åŠ¨çš„å†…å®¹è¿›è¡Œæ–‡æœ¬è½¬æ¢ï¼Œç„¶åŽè¿›è¡Œé‡æ–°æ‹¼æŽ¥é¦–å°¾ï¼Œå¤§åŠŸå‘Šæˆã€‚
  
- markdownè§£æž

  è€ƒå¯Ÿäº†å‡ ä¸ªç¤¾åŒºæµè¡Œçš„markdownè§£æžå™¨ï¼Œæ¯”è¾ƒæµè¡Œçš„æœ‰[markdown](https://www.npmjs.com/package/markdown), [markdown-it](https://www.npmjs.com/package/markdown-it), [marked](https://www.npmjs.com/package/marked) ç­‰ç­‰ã€‚ç»¼åˆè€ƒè™‘æ‰©å±•æ€§ä»¥åŠç¨³å®šæ€§ï¼Œç¬”è€…æŽ¨èä½¿ç”¨markdown-itä½œä¸ºmarkdownçš„è¯æ³•è§£æžå™¨ï¼Œå› ä¸ºè¯¥è§£æžå™¨æœ‰æ¯”è¾ƒå¤šçš„æ’ä»¶ï¼Œå¹¶ä¸”æ”¯æŒè¯­æ³•é«˜äº®ã€‚

- åŒæ­¥æ»šåŠ¨

  å½“é€‰æ‹©åˆ†æ ç¼–è¾‘çš„æ—¶å€™ï¼Œæ»šåŠ¨å·¦ä¾§çš„ç¼–è¾‘åŒºï¼Œå³ä¾§çš„é¢„è§ˆåŒºèƒ½è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”çš„åŒºåŸŸã€‚æ–¹æ¡ˆå‚è€ƒäº†ã€Š[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ 100è¡Œä»£ç å®žçŽ°åŸºäºŽ reactçš„ markdown è¾“å…¥ + å³æ—¶é¢„è§ˆåœ¨çº¿ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰](https://github.com/accforgit/blog-data/blob/master/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/README/README1.md)ã€‹ã€‚åªéœ€å…ˆè®¡ç®—å‡ºè¾“å…¥æ¡†å®¹å™¨å…ƒç´ ä¸Žé¢„è§ˆæ¡†å®¹å™¨å…ƒç´ ä¹‹é—´æœ€å¤§scrollèŒƒå›´çš„æ¯”ä¾‹å€¼ï¼Œç„¶åŽæ ¹æ®ä¸»åŠ¨æ»šåŠ¨å…ƒç´ è‡ªèº«çš„scrollTopåšç›¸åº”çš„æ¯”ä¾‹æ¢ç®—ï¼Œå³å¯çŸ¥é“å¯¹æ–¹åŒºåŸŸçš„scrollTopå€¼ã€‚

- å…³äºŽUI
 
  - é¡¹ç›®çš„å­—ä½“åº“é€‰æ‹©äº†Font Awesomeé£Žæ ¼ï¼Œå¹¶ä¸”åªé€‰å–äº†é¡¹ç›®æ‰€éœ€è¦çš„ä¸€äº›å›¾æ ‡ã€‚
  - ç¼–è¾‘å™¨çš„æ•´ä½“csså‡å¯é€šè¿‡å…¨å±€è¦†ç›–çš„å½¢å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚ç›®å‰æš‚æ—¶åªæ”¯æŒç°è‰²ä¸»é¢˜ã€‚
  - ç¼–è¾‘å™¨çš„æ˜¾ç¤ºåŒºåŸŸåŒ…æ‹¬èœå•æ ï¼Œç¼–è¾‘å™¨ï¼Œé¢„è§ˆåŒºï¼Œå·¥å…·æ ï¼Œé€šè¿‡é…ç½®ç»„ä»¶çš„configå±žæ€§ï¼Œå¯ä»¥é€‰æ‹©é»˜è®¤çš„å±•ç¤ºåŒºåŸŸã€‚
  
### Install

```js
npm install react-markdown-editor-lite --save
```

### Props

| Property | Description | Type | default | Remarks |
| --- | --- | --- | --- | --- |
| value | markdown content | String | '' | required |
| style | component container style | Object | {height: '100%'} | not required |
| config | component config | Object | {view: {...}, logger: {...}} | not required |
| onChange | emitting when editor has changed | Function | ({html, md}) => {} | not required |
| onImageUpload | when image uploaded, callback emitting will get image markdown text | (file: File, callback: (url: string) => void) => void; | ({file, callback}) => {} | not required |
| renderHTML | Render markdown text to HTML. You can return either string, function or Promise | (text: string) => string|function|Promise | none | **required** |

### Example

``` js
'use strict';
import React from 'react'
import ReactDOM from 'react-dom'
import MdEditor from 'react-markdown-editor-lite'
import MarkdownIt from 'markdown-it'
import emoji from 'markdown-it-emoji'
import subscript from 'markdown-it-sub'
import superscript from 'markdown-it-sup'
import footnote from 'markdown-it-footnote'
import deflist from 'markdown-it-deflist'
import abbreviation from 'markdown-it-abbr'
import insert from 'markdown-it-ins'
import mark from 'markdown-it-mark'
import tasklists from 'markdown-it-task-lists'
import hljs from 'highlight.js'
import 'highlight.js/styles/atom-one-light.css'
// import 'highlight.js/styles/github.css'
import './index.less';

const MOCK_DATA = "I Love React."
export default class Demo extends React.Component {
  mdEditor = null
  mdParser = null
  constructor(props) {
    super(props)
    // initial a parsera
    this.mdParser = new MarkdownIt({
      html: true,
      linkify: true,
      typographer: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(lang, str).value
          } catch (__) {}
        }    
        return '' // use external default escaping
      }
    })
    .use(emoji)
    .use(subscript)
    .use(superscript)
    .use(footnote)
    .use(deflist)
    .use(abbreviation)
    .use(insert)
    .use(mark)
    .use(tasklists, { enabled: this.taskLists })
    this.renderHTML = this.renderHTML.bind(this)
  }
  handleEditorChange({html, md}) {
    console.log('handleEditorChange', html, md)
  }
  handleImageUpload(file, callback) {
    const reader = new FileReader()
    reader.onload = () => {      
      const convertBase64UrlToBlob = (urlData) => {  
        let arr = urlData.split(','), mime = arr[0].match(/:(.*?);/)[1]
        let bstr = atob(arr[1])
        let n = bstr.length
        let u8arr = new Uint8Array(n)
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n)
        }
        return new Blob([u8arr], {type:mime})
      }
      const blob = convertBase64UrlToBlob(reader.result)
      setTimeout(() => {
        // setTimeout æ¨¡æ‹Ÿå¼‚æ­¥ä¸Šä¼ å›¾ç‰‡
        // å½“å¼‚æ­¥ä¸Šä¼ èŽ·å–å›¾ç‰‡åœ°å€åŽï¼Œæ‰§è¡Œcalbackå›žè°ƒï¼ˆå‚æ•°ä¸ºimageUrlå­—ç¬¦ä¸²ï¼‰ï¼Œå³å¯å°†å›¾ç‰‡åœ°å€å†™å…¥markdown
        callback('https://avatars0.githubusercontent.com/u/21263805?s=40&v=4')
      }, 1000)
    }
    reader.readAsDataURL(file)
  }
  renderHTML(text) {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ¸²æŸ“Markdown
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(this.mdParser.render(text))
      }, 1000)
    })
  }
  handleGetMdValue = () => {   
    this.mdEditor && alert(this.mdEditor.getMdValue())      
  }
  handleGetHtmlValue = () => {    
    this.mdEditor && alert(this.mdEditor.getHtmlValue())
  }
  render() {
    return (      
      <div>
        <nav>
          <button onClick={this.handleGetMdValue} >getMdValue</button>  
          <button onClick={this.handleGetHtmlValue} >getHtmlValue</button>  
        </nav>
        <section style="height: 500px">
          <MdEditor 
            ref={node => this.mdEditor = node}
            value={MOCK_DATA}
            style={{height: '400px'}}
            renderHTML={this.renderHTML}
            config={{
              view: {
                menu: true,
                md: true,
                html: true
              },
              imageUrl: 'https://octodex.github.com/images/minion.png'
            }}
            onChange={this.handleEditorChange} 
            onImageUpload={this.handleImageUpload}
          />
        </section>                        
      </div>      
    )
  }
}
```

### æœ€åŽ

   æ¬¢è¿Žå¤§å®¶ä½¿ç”¨å’Œåé¦ˆï¼Œ[é¡¹ç›®åœ°å€](https://github.com/HarryChen0506/react-markdown-editor-lite) (https://github.com/HarryChen0506/react-markdown-editor-lite)ï¼Œ ä½ çš„ç‚¹èµžå°†æ˜¯æˆ‘èŽ«å¤§çš„åŠ¨åŠ›ðŸ˜Š

![1.png](https://s3.ca-central-1.amazonaws.com/res-blog-public/res-dev/blog_1636946743939_1.png)', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, total=null}
2022-01-22 09:34:16:654 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 5ms
2022-01-22 09:34:16:654 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:35:28:036 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:35:28:036 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 2ms
2022-01-22 09:35:28:037 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:35:28:040 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:35:28:040 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:35:28:040 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:35:28:040 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article/10005
2022-01-22 09:35:28:040 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleDetail
2022-01-22 09:35:28:041 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: 10005
2022-01-22 09:35:28:041 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='| Head | Head | Head | Head |
| --- | --- | --- | --- |
| Data | Data | Data | Data |
| Data | Data | Data | Data |

## æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªmarkdownç¼–è¾‘å™¨

> ç¬”è€…åœ¨18å¹´å¹´æœ«çš„æ—¶å€™æŽ¥åˆ°ä¸€ä¸ªå¼€å‘ä»»åŠ¡â€”â€”æ­å»ºä¸€ä¸ªAIé¡¹ç›®çš„å¼€æ”¾å¹³å°ï¼Œå…¶ä¸­çš„äº§å“æ–‡æ¡£ä¸ºè½¬åŒ–ä¸ºHTMLæ ¼å¼çš„markdownæ–‡æ¡£ã€‚è€ƒè™‘åˆ°æ–‡æ¡£çš„å³æ—¶æ›´æ–°ï¼Œå°†æ–‡æ¡£ä¿¡æ¯åšæˆäº†AjaxæŽ¥å£çš„å½¢å¼ã€‚å› æ­¤ç®¡ç†åŽå°åªéœ€å°†textareaè¡¨å•çš„å†…å®¹é€šè¿‡markdownè§£æžå™¨è¿›è¡ŒHTMLæ ¼å¼è½¬åŒ–ï¼Œç„¶åŽå°†markdownå†…å®¹å’Œç»è½¬åŒ–çš„HTMLæ–‡æ¡£éƒ½ä¿å­˜åˆ°æ•°æ®åº“å³å¯ã€‚
> åŸºæœ¬éœ€æ±‚å®ŒæˆåŽï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè€ƒè™‘å°†å¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½æ·»åŠ è¿›æ¥ã€‚æ”¹è¿›ç‰ˆä¸ä»…æ”¯æŒäº†å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜å®žçŽ°çš„UIç•Œé¢çš„é…ç½®åŒ–ï¼Œè‡ªå®šä¹‰è¯­æ³•è§£æžå™¨ã€‚æœ¬ç€é€ ç¦ä¼¸æ‰‹å…šçš„ç›®çš„ï¼Œä»¥åŠç§¯ç´¯äº›å¼€æºç»éªŒï¼Œç¬”è€…å°†è¯¥react ç»„ä»¶ [react-markdown-editor-lite](https://github.com/HarryChen0506/react-markdown-editor-lite) è¿›è¡Œäº†å°è£…æ”¹é€ ï¼Œå¹¶ä¸”å‘å¸ƒåˆ°äº†å¼€æºç¤¾åŒºã€‚

### é¢„è§ˆ
åœ¨çº¿ä½“éªŒ [https://harrychen0506.github.io/react-markdown-editor-lite/](https://harrychen0506.github.io/react-markdown-editor-lite/)

![image](https://github.com//HarryChen0506/react-markdown-editor-lite/blob/master/image/react-markdown-editor-lite-v1.0.0.PNG?raw=true)

### ç‰¹ç‚¹
* è½»é‡ã€åŸºäºŽReact
* UIå¯é…ç½®, å¦‚åªæ˜¾ç¤ºç¼–è¾‘åŒºæˆ–é¢„è§ˆåŒº
* æ”¯æŒè‡ªå®šä¹‰markdownè¯­æ³•è§£æžå™¨,è¯­æ³•é«˜äº®ç­‰
* æ”¯æŒå¸¸ç”¨çš„markdownç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰ç­‰...
* æ”¯æŒåŠŸèƒ½æŒ‰é’®æ’æ‹”åŒ–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‰©å±•ç»„ä»¶
* æ”¯æŒç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåŒæ­¥æ»šåŠ¨

### å¼€å‘å¿ƒå¾—

- æ–‡æœ¬ç¼–è¾‘

  å¤§å¤šæ•°å¸¸è§çš„ç¼–è¾‘å™¨ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ©ç”¨äº†æŸäº›å…ƒç´ å¦‚divçš„contenteditableå±žæ€§ï¼Œé…åˆselectionã€rangeã€execCommandç­‰APIï¼Œå®žçŽ°äº†å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œé¢çš„å®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†"[ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘ï¼Ÿ](https://www.zhihu.com/question/38699645)"è¿™ä¸ªè¯´æ³•ã€‚

  è€Œmarkdownç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒçš„å¤„ç†å†…å®¹ä¸ºç®€å•è¯­æ³•çš„çº¯æ–‡æœ¬ï¼Œå¤æ‚åº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä½Žï¼Œå¹¶ä¸”inputæ ‡ç­¾è‡ªå¸¦onSelectäº‹ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èŽ·å–é€‰æ‹©ä¿¡æ¯ï¼ˆé€‰æ‹©èµ·å§‹ä½ç½®å’Œé€‰æ‹©æ–‡æœ¬å€¼ï¼‰ï¼Œå› æ­¤è¦æƒ³å®žçŽ°ç¼–è¾‘åŠŸèƒ½ï¼Œåªéœ€å°†è¦æ”¹åŠ¨çš„å†…å®¹è¿›è¡Œæ–‡æœ¬è½¬æ¢ï¼Œç„¶åŽè¿›è¡Œé‡æ–°æ‹¼æŽ¥é¦–å°¾ï¼Œå¤§åŠŸå‘Šæˆã€‚
  
- markdownè§£æž

  è€ƒå¯Ÿäº†å‡ ä¸ªç¤¾åŒºæµè¡Œçš„markdownè§£æžå™¨ï¼Œæ¯”è¾ƒæµè¡Œçš„æœ‰[markdown](https://www.npmjs.com/package/markdown), [markdown-it](https://www.npmjs.com/package/markdown-it), [marked](https://www.npmjs.com/package/marked) ç­‰ç­‰ã€‚ç»¼åˆè€ƒè™‘æ‰©å±•æ€§ä»¥åŠç¨³å®šæ€§ï¼Œç¬”è€…æŽ¨èä½¿ç”¨markdown-itä½œä¸ºmarkdownçš„è¯æ³•è§£æžå™¨ï¼Œå› ä¸ºè¯¥è§£æžå™¨æœ‰æ¯”è¾ƒå¤šçš„æ’ä»¶ï¼Œå¹¶ä¸”æ”¯æŒè¯­æ³•é«˜äº®ã€‚

- åŒæ­¥æ»šåŠ¨

  å½“é€‰æ‹©åˆ†æ ç¼–è¾‘çš„æ—¶å€™ï¼Œæ»šåŠ¨å·¦ä¾§çš„ç¼–è¾‘åŒºï¼Œå³ä¾§çš„é¢„è§ˆåŒºèƒ½è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”çš„åŒºåŸŸã€‚æ–¹æ¡ˆå‚è€ƒäº†ã€Š[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ 100è¡Œä»£ç å®žçŽ°åŸºäºŽ reactçš„ markdown è¾“å…¥ + å³æ—¶é¢„è§ˆåœ¨çº¿ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰](https://github.com/accforgit/blog-data/blob/master/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/README/README1.md)ã€‹ã€‚åªéœ€å…ˆè®¡ç®—å‡ºè¾“å…¥æ¡†å®¹å™¨å…ƒç´ ä¸Žé¢„è§ˆæ¡†å®¹å™¨å…ƒç´ ä¹‹é—´æœ€å¤§scrollèŒƒå›´çš„æ¯”ä¾‹å€¼ï¼Œç„¶åŽæ ¹æ®ä¸»åŠ¨æ»šåŠ¨å…ƒç´ è‡ªèº«çš„scrollTopåšç›¸åº”çš„æ¯”ä¾‹æ¢ç®—ï¼Œå³å¯çŸ¥é“å¯¹æ–¹åŒºåŸŸçš„scrollTopå€¼ã€‚

- å…³äºŽUI
 
  - é¡¹ç›®çš„å­—ä½“åº“é€‰æ‹©äº†Font Awesomeé£Žæ ¼ï¼Œå¹¶ä¸”åªé€‰å–äº†é¡¹ç›®æ‰€éœ€è¦çš„ä¸€äº›å›¾æ ‡ã€‚
  - ç¼–è¾‘å™¨çš„æ•´ä½“csså‡å¯é€šè¿‡å…¨å±€è¦†ç›–çš„å½¢å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚ç›®å‰æš‚æ—¶åªæ”¯æŒç°è‰²ä¸»é¢˜ã€‚
  - ç¼–è¾‘å™¨çš„æ˜¾ç¤ºåŒºåŸŸåŒ…æ‹¬èœå•æ ï¼Œç¼–è¾‘å™¨ï¼Œé¢„è§ˆåŒºï¼Œå·¥å…·æ ï¼Œé€šè¿‡é…ç½®ç»„ä»¶çš„configå±žæ€§ï¼Œå¯ä»¥é€‰æ‹©é»˜è®¤çš„å±•ç¤ºåŒºåŸŸã€‚
  
### Install

```js
npm install react-markdown-editor-lite --save
```

### Props

| Property | Description | Type | default | Remarks |
| --- | --- | --- | --- | --- |
| value | markdown content | String | '' | required |
| style | component container style | Object | {height: '100%'} | not required |
| config | component config | Object | {view: {...}, logger: {...}} | not required |
| onChange | emitting when editor has changed | Function | ({html, md}) => {} | not required |
| onImageUpload | when image uploaded, callback emitting will get image markdown text | (file: File, callback: (url: string) => void) => void; | ({file, callback}) => {} | not required |
| renderHTML | Render markdown text to HTML. You can return either string, function or Promise | (text: string) => string|function|Promise | none | **required** |

### Example

``` js
'use strict';
import React from 'react'
import ReactDOM from 'react-dom'
import MdEditor from 'react-markdown-editor-lite'
import MarkdownIt from 'markdown-it'
import emoji from 'markdown-it-emoji'
import subscript from 'markdown-it-sub'
import superscript from 'markdown-it-sup'
import footnote from 'markdown-it-footnote'
import deflist from 'markdown-it-deflist'
import abbreviation from 'markdown-it-abbr'
import insert from 'markdown-it-ins'
import mark from 'markdown-it-mark'
import tasklists from 'markdown-it-task-lists'
import hljs from 'highlight.js'
import 'highlight.js/styles/atom-one-light.css'
// import 'highlight.js/styles/github.css'
import './index.less';

const MOCK_DATA = "I Love React."
export default class Demo extends React.Component {
  mdEditor = null
  mdParser = null
  constructor(props) {
    super(props)
    // initial a parsera
    this.mdParser = new MarkdownIt({
      html: true,
      linkify: true,
      typographer: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(lang, str).value
          } catch (__) {}
        }    
        return '' // use external default escaping
      }
    })
    .use(emoji)
    .use(subscript)
    .use(superscript)
    .use(footnote)
    .use(deflist)
    .use(abbreviation)
    .use(insert)
    .use(mark)
    .use(tasklists, { enabled: this.taskLists })
    this.renderHTML = this.renderHTML.bind(this)
  }
  handleEditorChange({html, md}) {
    console.log('handleEditorChange', html, md)
  }
  handleImageUpload(file, callback) {
    const reader = new FileReader()
    reader.onload = () => {      
      const convertBase64UrlToBlob = (urlData) => {  
        let arr = urlData.split(','), mime = arr[0].match(/:(.*?);/)[1]
        let bstr = atob(arr[1])
        let n = bstr.length
        let u8arr = new Uint8Array(n)
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n)
        }
        return new Blob([u8arr], {type:mime})
      }
      const blob = convertBase64UrlToBlob(reader.result)
      setTimeout(() => {
        // setTimeout æ¨¡æ‹Ÿå¼‚æ­¥ä¸Šä¼ å›¾ç‰‡
        // å½“å¼‚æ­¥ä¸Šä¼ èŽ·å–å›¾ç‰‡åœ°å€åŽï¼Œæ‰§è¡Œcalbackå›žè°ƒï¼ˆå‚æ•°ä¸ºimageUrlå­—ç¬¦ä¸²ï¼‰ï¼Œå³å¯å°†å›¾ç‰‡åœ°å€å†™å…¥markdown
        callback('https://avatars0.githubusercontent.com/u/21263805?s=40&v=4')
      }, 1000)
    }
    reader.readAsDataURL(file)
  }
  renderHTML(text) {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ¸²æŸ“Markdown
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(this.mdParser.render(text))
      }, 1000)
    })
  }
  handleGetMdValue = () => {   
    this.mdEditor && alert(this.mdEditor.getMdValue())      
  }
  handleGetHtmlValue = () => {    
    this.mdEditor && alert(this.mdEditor.getHtmlValue())
  }
  render() {
    return (      
      <div>
        <nav>
          <button onClick={this.handleGetMdValue} >getMdValue</button>  
          <button onClick={this.handleGetHtmlValue} >getHtmlValue</button>  
        </nav>
        <section style="height: 500px">
          <MdEditor 
            ref={node => this.mdEditor = node}
            value={MOCK_DATA}
            style={{height: '400px'}}
            renderHTML={this.renderHTML}
            config={{
              view: {
                menu: true,
                md: true,
                html: true
              },
              imageUrl: 'https://octodex.github.com/images/minion.png'
            }}
            onChange={this.handleEditorChange} 
            onImageUpload={this.handleImageUpload}
          />
        </section>                        
      </div>      
    )
  }
}
```

### æœ€åŽ

   æ¬¢è¿Žå¤§å®¶ä½¿ç”¨å’Œåé¦ˆï¼Œ[é¡¹ç›®åœ°å€](https://github.com/HarryChen0506/react-markdown-editor-lite) (https://github.com/HarryChen0506/react-markdown-editor-lite)ï¼Œ ä½ çš„ç‚¹èµžå°†æ˜¯æˆ‘èŽ«å¤§çš„åŠ¨åŠ›ðŸ˜Š

![1.png](https://s3.ca-central-1.amazonaws.com/res-blog-public/res-dev/blog_1636946743939_1.png)', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, total=null}
2022-01-22 09:35:28:041 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 6ms
2022-01-22 09:35:28:041 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:36:53:989 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:36:53:989 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 1ms
2022-01-22 09:36:53:990 [http-nio-8081-exec-6] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article/10005
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleDetail
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: 10005
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='| Head | Head | Head | Head |
| --- | --- | --- | --- |
| Data | Data | Data | Data |
| Data | Data | Data | Data |

## æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªmarkdownç¼–è¾‘å™¨

> ç¬”è€…åœ¨18å¹´å¹´æœ«çš„æ—¶å€™æŽ¥åˆ°ä¸€ä¸ªå¼€å‘ä»»åŠ¡â€”â€”æ­å»ºä¸€ä¸ªAIé¡¹ç›®çš„å¼€æ”¾å¹³å°ï¼Œå…¶ä¸­çš„äº§å“æ–‡æ¡£ä¸ºè½¬åŒ–ä¸ºHTMLæ ¼å¼çš„markdownæ–‡æ¡£ã€‚è€ƒè™‘åˆ°æ–‡æ¡£çš„å³æ—¶æ›´æ–°ï¼Œå°†æ–‡æ¡£ä¿¡æ¯åšæˆäº†AjaxæŽ¥å£çš„å½¢å¼ã€‚å› æ­¤ç®¡ç†åŽå°åªéœ€å°†textareaè¡¨å•çš„å†…å®¹é€šè¿‡markdownè§£æžå™¨è¿›è¡ŒHTMLæ ¼å¼è½¬åŒ–ï¼Œç„¶åŽå°†markdownå†…å®¹å’Œç»è½¬åŒ–çš„HTMLæ–‡æ¡£éƒ½ä¿å­˜åˆ°æ•°æ®åº“å³å¯ã€‚
> åŸºæœ¬éœ€æ±‚å®ŒæˆåŽï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè€ƒè™‘å°†å¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½æ·»åŠ è¿›æ¥ã€‚æ”¹è¿›ç‰ˆä¸ä»…æ”¯æŒäº†å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜å®žçŽ°çš„UIç•Œé¢çš„é…ç½®åŒ–ï¼Œè‡ªå®šä¹‰è¯­æ³•è§£æžå™¨ã€‚æœ¬ç€é€ ç¦ä¼¸æ‰‹å…šçš„ç›®çš„ï¼Œä»¥åŠç§¯ç´¯äº›å¼€æºç»éªŒï¼Œç¬”è€…å°†è¯¥react ç»„ä»¶ [react-markdown-editor-lite](https://github.com/HarryChen0506/react-markdown-editor-lite) è¿›è¡Œäº†å°è£…æ”¹é€ ï¼Œå¹¶ä¸”å‘å¸ƒåˆ°äº†å¼€æºç¤¾åŒºã€‚

### é¢„è§ˆ
åœ¨çº¿ä½“éªŒ [https://harrychen0506.github.io/react-markdown-editor-lite/](https://harrychen0506.github.io/react-markdown-editor-lite/)

![image](https://github.com//HarryChen0506/react-markdown-editor-lite/blob/master/image/react-markdown-editor-lite-v1.0.0.PNG?raw=true)

### ç‰¹ç‚¹
* è½»é‡ã€åŸºäºŽReact
* UIå¯é…ç½®, å¦‚åªæ˜¾ç¤ºç¼–è¾‘åŒºæˆ–é¢„è§ˆåŒº
* æ”¯æŒè‡ªå®šä¹‰markdownè¯­æ³•è§£æžå™¨,è¯­æ³•é«˜äº®ç­‰
* æ”¯æŒå¸¸ç”¨çš„markdownç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰ç­‰...
* æ”¯æŒåŠŸèƒ½æŒ‰é’®æ’æ‹”åŒ–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‰©å±•ç»„ä»¶
* æ”¯æŒç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåŒæ­¥æ»šåŠ¨

### å¼€å‘å¿ƒå¾—

- æ–‡æœ¬ç¼–è¾‘

  å¤§å¤šæ•°å¸¸è§çš„ç¼–è¾‘å™¨ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ©ç”¨äº†æŸäº›å…ƒç´ å¦‚divçš„contenteditableå±žæ€§ï¼Œé…åˆselectionã€rangeã€execCommandç­‰APIï¼Œå®žçŽ°äº†å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œé¢çš„å®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†"[ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘ï¼Ÿ](https://www.zhihu.com/question/38699645)"è¿™ä¸ªè¯´æ³•ã€‚

  è€Œmarkdownç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒçš„å¤„ç†å†…å®¹ä¸ºç®€å•è¯­æ³•çš„çº¯æ–‡æœ¬ï¼Œå¤æ‚åº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä½Žï¼Œå¹¶ä¸”inputæ ‡ç­¾è‡ªå¸¦onSelectäº‹ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èŽ·å–é€‰æ‹©ä¿¡æ¯ï¼ˆé€‰æ‹©èµ·å§‹ä½ç½®å’Œé€‰æ‹©æ–‡æœ¬å€¼ï¼‰ï¼Œå› æ­¤è¦æƒ³å®žçŽ°ç¼–è¾‘åŠŸèƒ½ï¼Œåªéœ€å°†è¦æ”¹åŠ¨çš„å†…å®¹è¿›è¡Œæ–‡æœ¬è½¬æ¢ï¼Œç„¶åŽè¿›è¡Œé‡æ–°æ‹¼æŽ¥é¦–å°¾ï¼Œå¤§åŠŸå‘Šæˆã€‚
  
- markdownè§£æž

  è€ƒå¯Ÿäº†å‡ ä¸ªç¤¾åŒºæµè¡Œçš„markdownè§£æžå™¨ï¼Œæ¯”è¾ƒæµè¡Œçš„æœ‰[markdown](https://www.npmjs.com/package/markdown), [markdown-it](https://www.npmjs.com/package/markdown-it), [marked](https://www.npmjs.com/package/marked) ç­‰ç­‰ã€‚ç»¼åˆè€ƒè™‘æ‰©å±•æ€§ä»¥åŠç¨³å®šæ€§ï¼Œç¬”è€…æŽ¨èä½¿ç”¨markdown-itä½œä¸ºmarkdownçš„è¯æ³•è§£æžå™¨ï¼Œå› ä¸ºè¯¥è§£æžå™¨æœ‰æ¯”è¾ƒå¤šçš„æ’ä»¶ï¼Œå¹¶ä¸”æ”¯æŒè¯­æ³•é«˜äº®ã€‚

- åŒæ­¥æ»šåŠ¨

  å½“é€‰æ‹©åˆ†æ ç¼–è¾‘çš„æ—¶å€™ï¼Œæ»šåŠ¨å·¦ä¾§çš„ç¼–è¾‘åŒºï¼Œå³ä¾§çš„é¢„è§ˆåŒºèƒ½è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”çš„åŒºåŸŸã€‚æ–¹æ¡ˆå‚è€ƒäº†ã€Š[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ 100è¡Œä»£ç å®žçŽ°åŸºäºŽ reactçš„ markdown è¾“å…¥ + å³æ—¶é¢„è§ˆåœ¨çº¿ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰](https://github.com/accforgit/blog-data/blob/master/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/README/README1.md)ã€‹ã€‚åªéœ€å…ˆè®¡ç®—å‡ºè¾“å…¥æ¡†å®¹å™¨å…ƒç´ ä¸Žé¢„è§ˆæ¡†å®¹å™¨å…ƒç´ ä¹‹é—´æœ€å¤§scrollèŒƒå›´çš„æ¯”ä¾‹å€¼ï¼Œç„¶åŽæ ¹æ®ä¸»åŠ¨æ»šåŠ¨å…ƒç´ è‡ªèº«çš„scrollTopåšç›¸åº”çš„æ¯”ä¾‹æ¢ç®—ï¼Œå³å¯çŸ¥é“å¯¹æ–¹åŒºåŸŸçš„scrollTopå€¼ã€‚

- å…³äºŽUI
 
  - é¡¹ç›®çš„å­—ä½“åº“é€‰æ‹©äº†Font Awesomeé£Žæ ¼ï¼Œå¹¶ä¸”åªé€‰å–äº†é¡¹ç›®æ‰€éœ€è¦çš„ä¸€äº›å›¾æ ‡ã€‚
  - ç¼–è¾‘å™¨çš„æ•´ä½“csså‡å¯é€šè¿‡å…¨å±€è¦†ç›–çš„å½¢å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚ç›®å‰æš‚æ—¶åªæ”¯æŒç°è‰²ä¸»é¢˜ã€‚
  - ç¼–è¾‘å™¨çš„æ˜¾ç¤ºåŒºåŸŸåŒ…æ‹¬èœå•æ ï¼Œç¼–è¾‘å™¨ï¼Œé¢„è§ˆåŒºï¼Œå·¥å…·æ ï¼Œé€šè¿‡é…ç½®ç»„ä»¶çš„configå±žæ€§ï¼Œå¯ä»¥é€‰æ‹©é»˜è®¤çš„å±•ç¤ºåŒºåŸŸã€‚
  
### Install

```js
npm install react-markdown-editor-lite --save
```

### Props

| Property | Description | Type | default | Remarks |
| --- | --- | --- | --- | --- |
| value | markdown content | String | '' | required |
| style | component container style | Object | {height: '100%'} | not required |
| config | component config | Object | {view: {...}, logger: {...}} | not required |
| onChange | emitting when editor has changed | Function | ({html, md}) => {} | not required |
| onImageUpload | when image uploaded, callback emitting will get image markdown text | (file: File, callback: (url: string) => void) => void; | ({file, callback}) => {} | not required |
| renderHTML | Render markdown text to HTML. You can return either string, function or Promise | (text: string) => string|function|Promise | none | **required** |

### Example

``` js
'use strict';
import React from 'react'
import ReactDOM from 'react-dom'
import MdEditor from 'react-markdown-editor-lite'
import MarkdownIt from 'markdown-it'
import emoji from 'markdown-it-emoji'
import subscript from 'markdown-it-sub'
import superscript from 'markdown-it-sup'
import footnote from 'markdown-it-footnote'
import deflist from 'markdown-it-deflist'
import abbreviation from 'markdown-it-abbr'
import insert from 'markdown-it-ins'
import mark from 'markdown-it-mark'
import tasklists from 'markdown-it-task-lists'
import hljs from 'highlight.js'
import 'highlight.js/styles/atom-one-light.css'
// import 'highlight.js/styles/github.css'
import './index.less';

const MOCK_DATA = "I Love React."
export default class Demo extends React.Component {
  mdEditor = null
  mdParser = null
  constructor(props) {
    super(props)
    // initial a parsera
    this.mdParser = new MarkdownIt({
      html: true,
      linkify: true,
      typographer: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(lang, str).value
          } catch (__) {}
        }    
        return '' // use external default escaping
      }
    })
    .use(emoji)
    .use(subscript)
    .use(superscript)
    .use(footnote)
    .use(deflist)
    .use(abbreviation)
    .use(insert)
    .use(mark)
    .use(tasklists, { enabled: this.taskLists })
    this.renderHTML = this.renderHTML.bind(this)
  }
  handleEditorChange({html, md}) {
    console.log('handleEditorChange', html, md)
  }
  handleImageUpload(file, callback) {
    const reader = new FileReader()
    reader.onload = () => {      
      const convertBase64UrlToBlob = (urlData) => {  
        let arr = urlData.split(','), mime = arr[0].match(/:(.*?);/)[1]
        let bstr = atob(arr[1])
        let n = bstr.length
        let u8arr = new Uint8Array(n)
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n)
        }
        return new Blob([u8arr], {type:mime})
      }
      const blob = convertBase64UrlToBlob(reader.result)
      setTimeout(() => {
        // setTimeout æ¨¡æ‹Ÿå¼‚æ­¥ä¸Šä¼ å›¾ç‰‡
        // å½“å¼‚æ­¥ä¸Šä¼ èŽ·å–å›¾ç‰‡åœ°å€åŽï¼Œæ‰§è¡Œcalbackå›žè°ƒï¼ˆå‚æ•°ä¸ºimageUrlå­—ç¬¦ä¸²ï¼‰ï¼Œå³å¯å°†å›¾ç‰‡åœ°å€å†™å…¥markdown
        callback('https://avatars0.githubusercontent.com/u/21263805?s=40&v=4')
      }, 1000)
    }
    reader.readAsDataURL(file)
  }
  renderHTML(text) {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ¸²æŸ“Markdown
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(this.mdParser.render(text))
      }, 1000)
    })
  }
  handleGetMdValue = () => {   
    this.mdEditor && alert(this.mdEditor.getMdValue())      
  }
  handleGetHtmlValue = () => {    
    this.mdEditor && alert(this.mdEditor.getHtmlValue())
  }
  render() {
    return (      
      <div>
        <nav>
          <button onClick={this.handleGetMdValue} >getMdValue</button>  
          <button onClick={this.handleGetHtmlValue} >getHtmlValue</button>  
        </nav>
        <section style="height: 500px">
          <MdEditor 
            ref={node => this.mdEditor = node}
            value={MOCK_DATA}
            style={{height: '400px'}}
            renderHTML={this.renderHTML}
            config={{
              view: {
                menu: true,
                md: true,
                html: true
              },
              imageUrl: 'https://octodex.github.com/images/minion.png'
            }}
            onChange={this.handleEditorChange} 
            onImageUpload={this.handleImageUpload}
          />
        </section>                        
      </div>      
    )
  }
}
```

### æœ€åŽ

   æ¬¢è¿Žå¤§å®¶ä½¿ç”¨å’Œåé¦ˆï¼Œ[é¡¹ç›®åœ°å€](https://github.com/HarryChen0506/react-markdown-editor-lite) (https://github.com/HarryChen0506/react-markdown-editor-lite)ï¼Œ ä½ çš„ç‚¹èµžå°†æ˜¯æˆ‘èŽ«å¤§çš„åŠ¨åŠ›ðŸ˜Š

![1.png](https://s3.ca-central-1.amazonaws.com/res-blog-public/res-dev/blog_1636946743939_1.png)', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, total=null}
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 6ms
2022-01-22 09:36:53:994 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:37:46:948 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 0ms
2022-01-22 09:37:46:949 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article/10005
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleDetail
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: 10005
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='| Head | Head | Head | Head |
| --- | --- | --- | --- |
| Data | Data | Data | Data |
| Data | Data | Data | Data |

## æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªmarkdownç¼–è¾‘å™¨

> ç¬”è€…åœ¨18å¹´å¹´æœ«çš„æ—¶å€™æŽ¥åˆ°ä¸€ä¸ªå¼€å‘ä»»åŠ¡â€”â€”æ­å»ºä¸€ä¸ªAIé¡¹ç›®çš„å¼€æ”¾å¹³å°ï¼Œå…¶ä¸­çš„äº§å“æ–‡æ¡£ä¸ºè½¬åŒ–ä¸ºHTMLæ ¼å¼çš„markdownæ–‡æ¡£ã€‚è€ƒè™‘åˆ°æ–‡æ¡£çš„å³æ—¶æ›´æ–°ï¼Œå°†æ–‡æ¡£ä¿¡æ¯åšæˆäº†AjaxæŽ¥å£çš„å½¢å¼ã€‚å› æ­¤ç®¡ç†åŽå°åªéœ€å°†textareaè¡¨å•çš„å†…å®¹é€šè¿‡markdownè§£æžå™¨è¿›è¡ŒHTMLæ ¼å¼è½¬åŒ–ï¼Œç„¶åŽå°†markdownå†…å®¹å’Œç»è½¬åŒ–çš„HTMLæ–‡æ¡£éƒ½ä¿å­˜åˆ°æ•°æ®åº“å³å¯ã€‚
> åŸºæœ¬éœ€æ±‚å®ŒæˆåŽï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè€ƒè™‘å°†å¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½æ·»åŠ è¿›æ¥ã€‚æ”¹è¿›ç‰ˆä¸ä»…æ”¯æŒäº†å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜å®žçŽ°çš„UIç•Œé¢çš„é…ç½®åŒ–ï¼Œè‡ªå®šä¹‰è¯­æ³•è§£æžå™¨ã€‚æœ¬ç€é€ ç¦ä¼¸æ‰‹å…šçš„ç›®çš„ï¼Œä»¥åŠç§¯ç´¯äº›å¼€æºç»éªŒï¼Œç¬”è€…å°†è¯¥react ç»„ä»¶ [react-markdown-editor-lite](https://github.com/HarryChen0506/react-markdown-editor-lite) è¿›è¡Œäº†å°è£…æ”¹é€ ï¼Œå¹¶ä¸”å‘å¸ƒåˆ°äº†å¼€æºç¤¾åŒºã€‚

### é¢„è§ˆ
åœ¨çº¿ä½“éªŒ [https://harrychen0506.github.io/react-markdown-editor-lite/](https://harrychen0506.github.io/react-markdown-editor-lite/)

![image](https://github.com//HarryChen0506/react-markdown-editor-lite/blob/master/image/react-markdown-editor-lite-v1.0.0.PNG?raw=true)

### ç‰¹ç‚¹
* è½»é‡ã€åŸºäºŽReact
* UIå¯é…ç½®, å¦‚åªæ˜¾ç¤ºç¼–è¾‘åŒºæˆ–é¢„è§ˆåŒº
* æ”¯æŒè‡ªå®šä¹‰markdownè¯­æ³•è§£æžå™¨,è¯­æ³•é«˜äº®ç­‰
* æ”¯æŒå¸¸ç”¨çš„markdownç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰ç­‰...
* æ”¯æŒåŠŸèƒ½æŒ‰é’®æ’æ‹”åŒ–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‰©å±•ç»„ä»¶
* æ”¯æŒç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåŒæ­¥æ»šåŠ¨

### å¼€å‘å¿ƒå¾—

- æ–‡æœ¬ç¼–è¾‘

  å¤§å¤šæ•°å¸¸è§çš„ç¼–è¾‘å™¨ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ©ç”¨äº†æŸäº›å…ƒç´ å¦‚divçš„contenteditableå±žæ€§ï¼Œé…åˆselectionã€rangeã€execCommandç­‰APIï¼Œå®žçŽ°äº†å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œé¢çš„å®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†"[ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘ï¼Ÿ](https://www.zhihu.com/question/38699645)"è¿™ä¸ªè¯´æ³•ã€‚

  è€Œmarkdownç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒçš„å¤„ç†å†…å®¹ä¸ºç®€å•è¯­æ³•çš„çº¯æ–‡æœ¬ï¼Œå¤æ‚åº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä½Žï¼Œå¹¶ä¸”inputæ ‡ç­¾è‡ªå¸¦onSelectäº‹ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èŽ·å–é€‰æ‹©ä¿¡æ¯ï¼ˆé€‰æ‹©èµ·å§‹ä½ç½®å’Œé€‰æ‹©æ–‡æœ¬å€¼ï¼‰ï¼Œå› æ­¤è¦æƒ³å®žçŽ°ç¼–è¾‘åŠŸèƒ½ï¼Œåªéœ€å°†è¦æ”¹åŠ¨çš„å†…å®¹è¿›è¡Œæ–‡æœ¬è½¬æ¢ï¼Œç„¶åŽè¿›è¡Œé‡æ–°æ‹¼æŽ¥é¦–å°¾ï¼Œå¤§åŠŸå‘Šæˆã€‚
  
- markdownè§£æž

  è€ƒå¯Ÿäº†å‡ ä¸ªç¤¾åŒºæµè¡Œçš„markdownè§£æžå™¨ï¼Œæ¯”è¾ƒæµè¡Œçš„æœ‰[markdown](https://www.npmjs.com/package/markdown), [markdown-it](https://www.npmjs.com/package/markdown-it), [marked](https://www.npmjs.com/package/marked) ç­‰ç­‰ã€‚ç»¼åˆè€ƒè™‘æ‰©å±•æ€§ä»¥åŠç¨³å®šæ€§ï¼Œç¬”è€…æŽ¨èä½¿ç”¨markdown-itä½œä¸ºmarkdownçš„è¯æ³•è§£æžå™¨ï¼Œå› ä¸ºè¯¥è§£æžå™¨æœ‰æ¯”è¾ƒå¤šçš„æ’ä»¶ï¼Œå¹¶ä¸”æ”¯æŒè¯­æ³•é«˜äº®ã€‚

- åŒæ­¥æ»šåŠ¨

  å½“é€‰æ‹©åˆ†æ ç¼–è¾‘çš„æ—¶å€™ï¼Œæ»šåŠ¨å·¦ä¾§çš„ç¼–è¾‘åŒºï¼Œå³ä¾§çš„é¢„è§ˆåŒºèƒ½è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”çš„åŒºåŸŸã€‚æ–¹æ¡ˆå‚è€ƒäº†ã€Š[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ 100è¡Œä»£ç å®žçŽ°åŸºäºŽ reactçš„ markdown è¾“å…¥ + å³æ—¶é¢„è§ˆåœ¨çº¿ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰](https://github.com/accforgit/blog-data/blob/master/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/README/README1.md)ã€‹ã€‚åªéœ€å…ˆè®¡ç®—å‡ºè¾“å…¥æ¡†å®¹å™¨å…ƒç´ ä¸Žé¢„è§ˆæ¡†å®¹å™¨å…ƒç´ ä¹‹é—´æœ€å¤§scrollèŒƒå›´çš„æ¯”ä¾‹å€¼ï¼Œç„¶åŽæ ¹æ®ä¸»åŠ¨æ»šåŠ¨å…ƒç´ è‡ªèº«çš„scrollTopåšç›¸åº”çš„æ¯”ä¾‹æ¢ç®—ï¼Œå³å¯çŸ¥é“å¯¹æ–¹åŒºåŸŸçš„scrollTopå€¼ã€‚

- å…³äºŽUI
 
  - é¡¹ç›®çš„å­—ä½“åº“é€‰æ‹©äº†Font Awesomeé£Žæ ¼ï¼Œå¹¶ä¸”åªé€‰å–äº†é¡¹ç›®æ‰€éœ€è¦çš„ä¸€äº›å›¾æ ‡ã€‚
  - ç¼–è¾‘å™¨çš„æ•´ä½“csså‡å¯é€šè¿‡å…¨å±€è¦†ç›–çš„å½¢å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚ç›®å‰æš‚æ—¶åªæ”¯æŒç°è‰²ä¸»é¢˜ã€‚
  - ç¼–è¾‘å™¨çš„æ˜¾ç¤ºåŒºåŸŸåŒ…æ‹¬èœå•æ ï¼Œç¼–è¾‘å™¨ï¼Œé¢„è§ˆåŒºï¼Œå·¥å…·æ ï¼Œé€šè¿‡é…ç½®ç»„ä»¶çš„configå±žæ€§ï¼Œå¯ä»¥é€‰æ‹©é»˜è®¤çš„å±•ç¤ºåŒºåŸŸã€‚
  
### Install

```js
npm install react-markdown-editor-lite --save
```

### Props

| Property | Description | Type | default | Remarks |
| --- | --- | --- | --- | --- |
| value | markdown content | String | '' | required |
| style | component container style | Object | {height: '100%'} | not required |
| config | component config | Object | {view: {...}, logger: {...}} | not required |
| onChange | emitting when editor has changed | Function | ({html, md}) => {} | not required |
| onImageUpload | when image uploaded, callback emitting will get image markdown text | (file: File, callback: (url: string) => void) => void; | ({file, callback}) => {} | not required |
| renderHTML | Render markdown text to HTML. You can return either string, function or Promise | (text: string) => string|function|Promise | none | **required** |

### Example

``` js
'use strict';
import React from 'react'
import ReactDOM from 'react-dom'
import MdEditor from 'react-markdown-editor-lite'
import MarkdownIt from 'markdown-it'
import emoji from 'markdown-it-emoji'
import subscript from 'markdown-it-sub'
import superscript from 'markdown-it-sup'
import footnote from 'markdown-it-footnote'
import deflist from 'markdown-it-deflist'
import abbreviation from 'markdown-it-abbr'
import insert from 'markdown-it-ins'
import mark from 'markdown-it-mark'
import tasklists from 'markdown-it-task-lists'
import hljs from 'highlight.js'
import 'highlight.js/styles/atom-one-light.css'
// import 'highlight.js/styles/github.css'
import './index.less';

const MOCK_DATA = "I Love React."
export default class Demo extends React.Component {
  mdEditor = null
  mdParser = null
  constructor(props) {
    super(props)
    // initial a parsera
    this.mdParser = new MarkdownIt({
      html: true,
      linkify: true,
      typographer: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(lang, str).value
          } catch (__) {}
        }    
        return '' // use external default escaping
      }
    })
    .use(emoji)
    .use(subscript)
    .use(superscript)
    .use(footnote)
    .use(deflist)
    .use(abbreviation)
    .use(insert)
    .use(mark)
    .use(tasklists, { enabled: this.taskLists })
    this.renderHTML = this.renderHTML.bind(this)
  }
  handleEditorChange({html, md}) {
    console.log('handleEditorChange', html, md)
  }
  handleImageUpload(file, callback) {
    const reader = new FileReader()
    reader.onload = () => {      
      const convertBase64UrlToBlob = (urlData) => {  
        let arr = urlData.split(','), mime = arr[0].match(/:(.*?);/)[1]
        let bstr = atob(arr[1])
        let n = bstr.length
        let u8arr = new Uint8Array(n)
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n)
        }
        return new Blob([u8arr], {type:mime})
      }
      const blob = convertBase64UrlToBlob(reader.result)
      setTimeout(() => {
        // setTimeout æ¨¡æ‹Ÿå¼‚æ­¥ä¸Šä¼ å›¾ç‰‡
        // å½“å¼‚æ­¥ä¸Šä¼ èŽ·å–å›¾ç‰‡åœ°å€åŽï¼Œæ‰§è¡Œcalbackå›žè°ƒï¼ˆå‚æ•°ä¸ºimageUrlå­—ç¬¦ä¸²ï¼‰ï¼Œå³å¯å°†å›¾ç‰‡åœ°å€å†™å…¥markdown
        callback('https://avatars0.githubusercontent.com/u/21263805?s=40&v=4')
      }, 1000)
    }
    reader.readAsDataURL(file)
  }
  renderHTML(text) {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ¸²æŸ“Markdown
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(this.mdParser.render(text))
      }, 1000)
    })
  }
  handleGetMdValue = () => {   
    this.mdEditor && alert(this.mdEditor.getMdValue())      
  }
  handleGetHtmlValue = () => {    
    this.mdEditor && alert(this.mdEditor.getHtmlValue())
  }
  render() {
    return (      
      <div>
        <nav>
          <button onClick={this.handleGetMdValue} >getMdValue</button>  
          <button onClick={this.handleGetHtmlValue} >getHtmlValue</button>  
        </nav>
        <section style="height: 500px">
          <MdEditor 
            ref={node => this.mdEditor = node}
            value={MOCK_DATA}
            style={{height: '400px'}}
            renderHTML={this.renderHTML}
            config={{
              view: {
                menu: true,
                md: true,
                html: true
              },
              imageUrl: 'https://octodex.github.com/images/minion.png'
            }}
            onChange={this.handleEditorChange} 
            onImageUpload={this.handleImageUpload}
          />
        </section>                        
      </div>      
    )
  }
}
```

### æœ€åŽ

   æ¬¢è¿Žå¤§å®¶ä½¿ç”¨å’Œåé¦ˆï¼Œ[é¡¹ç›®åœ°å€](https://github.com/HarryChen0506/react-markdown-editor-lite) (https://github.com/HarryChen0506/react-markdown-editor-lite)ï¼Œ ä½ çš„ç‚¹èµžå°†æ˜¯æˆ‘èŽ«å¤§çš„åŠ¨åŠ›ðŸ˜Š

![1.png](https://s3.ca-central-1.amazonaws.com/res-blog-public/res-dev/blog_1636946743939_1.png)', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, total=null}
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 4ms
2022-01-22 09:37:46:952 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:14:746 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 1ms
2022-01-22 09:38:14:747 [http-nio-8081-exec-9] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article/10005
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleDetail
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: 10005
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='| Head | Head | Head | Head |
| --- | --- | --- | --- |
| Data | Data | Data | Data |
| Data | Data | Data | Data |

## æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªmarkdownç¼–è¾‘å™¨

> ç¬”è€…åœ¨18å¹´å¹´æœ«çš„æ—¶å€™æŽ¥åˆ°ä¸€ä¸ªå¼€å‘ä»»åŠ¡â€”â€”æ­å»ºä¸€ä¸ªAIé¡¹ç›®çš„å¼€æ”¾å¹³å°ï¼Œå…¶ä¸­çš„äº§å“æ–‡æ¡£ä¸ºè½¬åŒ–ä¸ºHTMLæ ¼å¼çš„markdownæ–‡æ¡£ã€‚è€ƒè™‘åˆ°æ–‡æ¡£çš„å³æ—¶æ›´æ–°ï¼Œå°†æ–‡æ¡£ä¿¡æ¯åšæˆäº†AjaxæŽ¥å£çš„å½¢å¼ã€‚å› æ­¤ç®¡ç†åŽå°åªéœ€å°†textareaè¡¨å•çš„å†…å®¹é€šè¿‡markdownè§£æžå™¨è¿›è¡ŒHTMLæ ¼å¼è½¬åŒ–ï¼Œç„¶åŽå°†markdownå†…å®¹å’Œç»è½¬åŒ–çš„HTMLæ–‡æ¡£éƒ½ä¿å­˜åˆ°æ•°æ®åº“å³å¯ã€‚
> åŸºæœ¬éœ€æ±‚å®ŒæˆåŽï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè€ƒè™‘å°†å¸¸ç”¨çš„ç¼–è¾‘åŠŸèƒ½æ·»åŠ è¿›æ¥ã€‚æ”¹è¿›ç‰ˆä¸ä»…æ”¯æŒäº†å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜å®žçŽ°çš„UIç•Œé¢çš„é…ç½®åŒ–ï¼Œè‡ªå®šä¹‰è¯­æ³•è§£æžå™¨ã€‚æœ¬ç€é€ ç¦ä¼¸æ‰‹å…šçš„ç›®çš„ï¼Œä»¥åŠç§¯ç´¯äº›å¼€æºç»éªŒï¼Œç¬”è€…å°†è¯¥react ç»„ä»¶ [react-markdown-editor-lite](https://github.com/HarryChen0506/react-markdown-editor-lite) è¿›è¡Œäº†å°è£…æ”¹é€ ï¼Œå¹¶ä¸”å‘å¸ƒåˆ°äº†å¼€æºç¤¾åŒºã€‚

### é¢„è§ˆ
åœ¨çº¿ä½“éªŒ [https://harrychen0506.github.io/react-markdown-editor-lite/](https://harrychen0506.github.io/react-markdown-editor-lite/)

![image](https://github.com//HarryChen0506/react-markdown-editor-lite/blob/master/image/react-markdown-editor-lite-v1.0.0.PNG?raw=true)

### ç‰¹ç‚¹
* è½»é‡ã€åŸºäºŽReact
* UIå¯é…ç½®, å¦‚åªæ˜¾ç¤ºç¼–è¾‘åŒºæˆ–é¢„è§ˆåŒº
* æ”¯æŒè‡ªå®šä¹‰markdownè¯­æ³•è§£æžå™¨,è¯­æ³•é«˜äº®ç­‰
* æ”¯æŒå¸¸ç”¨çš„markdownç¼–è¾‘åŠŸèƒ½ï¼Œå¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰ç­‰...
* æ”¯æŒåŠŸèƒ½æŒ‰é’®æ’æ‹”åŒ–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‰©å±•ç»„ä»¶
* æ”¯æŒç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåŒæ­¥æ»šåŠ¨

### å¼€å‘å¿ƒå¾—

- æ–‡æœ¬ç¼–è¾‘

  å¤§å¤šæ•°å¸¸è§çš„ç¼–è¾‘å™¨ï¼ŒåŒ…æ‹¬å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ©ç”¨äº†æŸäº›å…ƒç´ å¦‚divçš„contenteditableå±žæ€§ï¼Œé…åˆselectionã€rangeã€execCommandç­‰APIï¼Œå®žçŽ°äº†å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚è¿™é‡Œé¢çš„å®žçŽ°æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†"[ä¸ºä»€ä¹ˆéƒ½è¯´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ˜¯å¤©å‘ï¼Ÿ](https://www.zhihu.com/question/38699645)"è¿™ä¸ªè¯´æ³•ã€‚

  è€Œmarkdownç¼–è¾‘å™¨ï¼Œæ ¸å¿ƒçš„å¤„ç†å†…å®¹ä¸ºç®€å•è¯­æ³•çš„çº¯æ–‡æœ¬ï¼Œå¤æ‚åº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä½Žï¼Œå¹¶ä¸”inputæ ‡ç­¾è‡ªå¸¦onSelectäº‹ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èŽ·å–é€‰æ‹©ä¿¡æ¯ï¼ˆé€‰æ‹©èµ·å§‹ä½ç½®å’Œé€‰æ‹©æ–‡æœ¬å€¼ï¼‰ï¼Œå› æ­¤è¦æƒ³å®žçŽ°ç¼–è¾‘åŠŸèƒ½ï¼Œåªéœ€å°†è¦æ”¹åŠ¨çš„å†…å®¹è¿›è¡Œæ–‡æœ¬è½¬æ¢ï¼Œç„¶åŽè¿›è¡Œé‡æ–°æ‹¼æŽ¥é¦–å°¾ï¼Œå¤§åŠŸå‘Šæˆã€‚
  
- markdownè§£æž

  è€ƒå¯Ÿäº†å‡ ä¸ªç¤¾åŒºæµè¡Œçš„markdownè§£æžå™¨ï¼Œæ¯”è¾ƒæµè¡Œçš„æœ‰[markdown](https://www.npmjs.com/package/markdown), [markdown-it](https://www.npmjs.com/package/markdown-it), [marked](https://www.npmjs.com/package/marked) ç­‰ç­‰ã€‚ç»¼åˆè€ƒè™‘æ‰©å±•æ€§ä»¥åŠç¨³å®šæ€§ï¼Œç¬”è€…æŽ¨èä½¿ç”¨markdown-itä½œä¸ºmarkdownçš„è¯æ³•è§£æžå™¨ï¼Œå› ä¸ºè¯¥è§£æžå™¨æœ‰æ¯”è¾ƒå¤šçš„æ’ä»¶ï¼Œå¹¶ä¸”æ”¯æŒè¯­æ³•é«˜äº®ã€‚

- åŒæ­¥æ»šåŠ¨

  å½“é€‰æ‹©åˆ†æ ç¼–è¾‘çš„æ—¶å€™ï¼Œæ»šåŠ¨å·¦ä¾§çš„ç¼–è¾‘åŒºï¼Œå³ä¾§çš„é¢„è§ˆåŒºèƒ½è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”çš„åŒºåŸŸã€‚æ–¹æ¡ˆå‚è€ƒäº†ã€Š[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ 100è¡Œä»£ç å®žçŽ°åŸºäºŽ reactçš„ markdown è¾“å…¥ + å³æ—¶é¢„è§ˆåœ¨çº¿ç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰](https://github.com/accforgit/blog-data/blob/master/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/README/README1.md)ã€‹ã€‚åªéœ€å…ˆè®¡ç®—å‡ºè¾“å…¥æ¡†å®¹å™¨å…ƒç´ ä¸Žé¢„è§ˆæ¡†å®¹å™¨å…ƒç´ ä¹‹é—´æœ€å¤§scrollèŒƒå›´çš„æ¯”ä¾‹å€¼ï¼Œç„¶åŽæ ¹æ®ä¸»åŠ¨æ»šåŠ¨å…ƒç´ è‡ªèº«çš„scrollTopåšç›¸åº”çš„æ¯”ä¾‹æ¢ç®—ï¼Œå³å¯çŸ¥é“å¯¹æ–¹åŒºåŸŸçš„scrollTopå€¼ã€‚

- å…³äºŽUI
 
  - é¡¹ç›®çš„å­—ä½“åº“é€‰æ‹©äº†Font Awesomeé£Žæ ¼ï¼Œå¹¶ä¸”åªé€‰å–äº†é¡¹ç›®æ‰€éœ€è¦çš„ä¸€äº›å›¾æ ‡ã€‚
  - ç¼–è¾‘å™¨çš„æ•´ä½“csså‡å¯é€šè¿‡å…¨å±€è¦†ç›–çš„å½¢å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚ç›®å‰æš‚æ—¶åªæ”¯æŒç°è‰²ä¸»é¢˜ã€‚
  - ç¼–è¾‘å™¨çš„æ˜¾ç¤ºåŒºåŸŸåŒ…æ‹¬èœå•æ ï¼Œç¼–è¾‘å™¨ï¼Œé¢„è§ˆåŒºï¼Œå·¥å…·æ ï¼Œé€šè¿‡é…ç½®ç»„ä»¶çš„configå±žæ€§ï¼Œå¯ä»¥é€‰æ‹©é»˜è®¤çš„å±•ç¤ºåŒºåŸŸã€‚
  
### Install

```js
npm install react-markdown-editor-lite --save
```

### Props

| Property | Description | Type | default | Remarks |
| --- | --- | --- | --- | --- |
| value | markdown content | String | '' | required |
| style | component container style | Object | {height: '100%'} | not required |
| config | component config | Object | {view: {...}, logger: {...}} | not required |
| onChange | emitting when editor has changed | Function | ({html, md}) => {} | not required |
| onImageUpload | when image uploaded, callback emitting will get image markdown text | (file: File, callback: (url: string) => void) => void; | ({file, callback}) => {} | not required |
| renderHTML | Render markdown text to HTML. You can return either string, function or Promise | (text: string) => string|function|Promise | none | **required** |

### Example

``` js
'use strict';
import React from 'react'
import ReactDOM from 'react-dom'
import MdEditor from 'react-markdown-editor-lite'
import MarkdownIt from 'markdown-it'
import emoji from 'markdown-it-emoji'
import subscript from 'markdown-it-sub'
import superscript from 'markdown-it-sup'
import footnote from 'markdown-it-footnote'
import deflist from 'markdown-it-deflist'
import abbreviation from 'markdown-it-abbr'
import insert from 'markdown-it-ins'
import mark from 'markdown-it-mark'
import tasklists from 'markdown-it-task-lists'
import hljs from 'highlight.js'
import 'highlight.js/styles/atom-one-light.css'
// import 'highlight.js/styles/github.css'
import './index.less';

const MOCK_DATA = "I Love React."
export default class Demo extends React.Component {
  mdEditor = null
  mdParser = null
  constructor(props) {
    super(props)
    // initial a parsera
    this.mdParser = new MarkdownIt({
      html: true,
      linkify: true,
      typographer: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(lang, str).value
          } catch (__) {}
        }    
        return '' // use external default escaping
      }
    })
    .use(emoji)
    .use(subscript)
    .use(superscript)
    .use(footnote)
    .use(deflist)
    .use(abbreviation)
    .use(insert)
    .use(mark)
    .use(tasklists, { enabled: this.taskLists })
    this.renderHTML = this.renderHTML.bind(this)
  }
  handleEditorChange({html, md}) {
    console.log('handleEditorChange', html, md)
  }
  handleImageUpload(file, callback) {
    const reader = new FileReader()
    reader.onload = () => {      
      const convertBase64UrlToBlob = (urlData) => {  
        let arr = urlData.split(','), mime = arr[0].match(/:(.*?);/)[1]
        let bstr = atob(arr[1])
        let n = bstr.length
        let u8arr = new Uint8Array(n)
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n)
        }
        return new Blob([u8arr], {type:mime})
      }
      const blob = convertBase64UrlToBlob(reader.result)
      setTimeout(() => {
        // setTimeout æ¨¡æ‹Ÿå¼‚æ­¥ä¸Šä¼ å›¾ç‰‡
        // å½“å¼‚æ­¥ä¸Šä¼ èŽ·å–å›¾ç‰‡åœ°å€åŽï¼Œæ‰§è¡Œcalbackå›žè°ƒï¼ˆå‚æ•°ä¸ºimageUrlå­—ç¬¦ä¸²ï¼‰ï¼Œå³å¯å°†å›¾ç‰‡åœ°å€å†™å…¥markdown
        callback('https://avatars0.githubusercontent.com/u/21263805?s=40&v=4')
      }, 1000)
    }
    reader.readAsDataURL(file)
  }
  renderHTML(text) {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ¸²æŸ“Markdown
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(this.mdParser.render(text))
      }, 1000)
    })
  }
  handleGetMdValue = () => {   
    this.mdEditor && alert(this.mdEditor.getMdValue())      
  }
  handleGetHtmlValue = () => {    
    this.mdEditor && alert(this.mdEditor.getHtmlValue())
  }
  render() {
    return (      
      <div>
        <nav>
          <button onClick={this.handleGetMdValue} >getMdValue</button>  
          <button onClick={this.handleGetHtmlValue} >getHtmlValue</button>  
        </nav>
        <section style="height: 500px">
          <MdEditor 
            ref={node => this.mdEditor = node}
            value={MOCK_DATA}
            style={{height: '400px'}}
            renderHTML={this.renderHTML}
            config={{
              view: {
                menu: true,
                md: true,
                html: true
              },
              imageUrl: 'https://octodex.github.com/images/minion.png'
            }}
            onChange={this.handleEditorChange} 
            onImageUpload={this.handleImageUpload}
          />
        </section>                        
      </div>      
    )
  }
}
```

### æœ€åŽ

   æ¬¢è¿Žå¤§å®¶ä½¿ç”¨å’Œåé¦ˆï¼Œ[é¡¹ç›®åœ°å€](https://github.com/HarryChen0506/react-markdown-editor-lite) (https://github.com/HarryChen0506/react-markdown-editor-lite)ï¼Œ ä½ çš„ç‚¹èµžå°†æ˜¯æˆ‘èŽ«å¤§çš„åŠ¨åŠ›ðŸ˜Š

![1.png](https://s3.ca-central-1.amazonaws.com/res-blog-public/res-dev/blog_1636946743939_1.png)', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, total=null}
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 5ms
2022-01-22 09:38:14:750 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleList
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=null}
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 5ms
2022-01-22 09:38:42:159 [http-nio-8081-exec-4] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:52:901 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 2ms
2022-01-22 09:38:52:902 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/category
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategoryList
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[Category (1, Life ), Category (2, liddffd)], total=null}
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 1ms
2022-01-22 09:38:58:686 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/admin/article
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getArticleList
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=null}
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 3ms
2022-01-22 09:38:59:824 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 09:41:57:553 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s125ms).
2022-01-22 09:57:51:236 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m45s223ms).
2022-01-22 10:07:27:715 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m36s449ms).
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/articles
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getPublicArticles
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=3}
2022-01-22 10:08:50:151 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 19ms
2022-01-22 10:08:50:152 [http-nio-8081-exec-8] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/categories
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategories
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: {}
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[CategoryVo{categoryId=2, name='liddffd', articleCount=1}, CategoryVo{categoryId=1, name='Life ', articleCount=2}], total=null}
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 2ms
2022-01-22 10:08:54:763 [http-nio-8081-exec-1] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/articles
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getPublicArticles
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=2, total=null}
2022-01-22 10:08:54:784 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}], total=1}
2022-01-22 10:08:54:785 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 3ms
2022-01-22 10:08:54:785 [http-nio-8081-exec-2] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/categories
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.CategoryContoller.getCategories
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: {}
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[CategoryVo{categoryId=2, name='liddffd', articleCount=1}, CategoryVo{categoryId=1, name='Life ', articleCount=2}], total=null}
2022-01-22 10:08:56:985 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 6ms
2022-01-22 10:08:56:986 [http-nio-8081-exec-5] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/articles/hot
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getHotArticles
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: {}
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=null, category=null, BaseArticleVo{articleId=10004, status=null, type=null, title='Spring boot', description='null', content='null', firstPicture='null', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='null'}}, ArticleVo{userInfo=null, category=null, BaseArticleVo{articleId=10005, status=null, type=null, title='dd', description='null', content='null', firstPicture='null', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='null'}}, ArticleVo{userInfo=null, category=null, BaseArticleVo{articleId=10003, status=null, type=null, title='dd', description='null', content='null', firstPicture='null', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='null'}}], total=null}
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 4ms
2022-01-22 10:08:56:986 [http-nio-8081-exec-10] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/articles
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getPublicArticles
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 10:08:56:988 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=3}
2022-01-22 10:08:56:989 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 9ms
2022-01-22 10:08:56:989 [http-nio-8081-exec-7] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log starts =====
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request succeed
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request Method: GET
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Request URI: /api/articles
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Method Name: com.ivan.sunnyblog.web.controller.ArticleController.getPublicArticles
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Params: SearchVo{page=1, limit=10, categoryId=null, total=null}
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Result: ResultInfo{info='null', status=0, data=[ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10005, status=1, type=1, title='dd', description='This is the doc of React markdown editor lite.
Enjoy!!', content='null', firstPicture='', viewCount=83, createDate='Sun Nov 07 14:09:29 EST 2021', updateDate='Tue Jan 18 22:54:08 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=2, name='liddffd', articleCount=null}, BaseArticleVo{articleId=10004, status=1, type=2, title='Spring boot', description='rerwerwer', content='null', firstPicture='', viewCount=174, createDate='Tue Oct 12 15:58:26 EDT 2021', updateDate='Tue Jan 18 22:56:37 EST 2022'}}, ArticleVo{userInfo=UserInfoVo{userId=100001, nickName='ivan', userName='ivan', avatar='https://res-blog-public.s3.ca-central-1.amazonaws.com/default_avatar.jpg'}, category=CategoryVo{categoryId=1, name='Life ', articleCount=null}, BaseArticleVo{articleId=10003, status=1, type=1, title='dd', description='test', content='null', firstPicture='', viewCount=0, createDate='Tue Oct 12 15:57:33 EDT 2021', updateDate='Tue Jan 18 22:53:20 EST 2022'}}], total=3}
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect Process Time: 5ms
2022-01-22 10:08:59:583 [http-nio-8081-exec-3] INFO  com.ivan.sunnyblog.web.aop.ControllerAspect ===== log ends =====
2022-01-22 10:36:59:131 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=25m31s396ms).
2022-01-22 10:46:05:646 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m6s515ms).
2022-01-22 11:59:25:671 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h13m20s25ms).
2022-01-22 13:06:40:814 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h7m15s143ms).
2022-01-22 14:52:13:963 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h45m33s149ms).
2022-01-22 15:02:54:542 [Thread-34] INFO  org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Shutting down ExecutorService 'taskScheduler'
2022-01-22 15:02:54:543 [Thread-34] INFO  org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor Shutting down ExecutorService 'applicationTaskExecutor'
2022-01-22 15:02:54:545 [Thread-34] INFO  com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown initiated...
2022-01-22 15:02:54:547 [Thread-34] INFO  com.zaxxer.hikari.HikariDataSource HikariPool-1 - Shutdown completed.
